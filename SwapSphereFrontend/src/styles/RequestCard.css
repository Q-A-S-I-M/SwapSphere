/* dimmed overlay */
.request-overlay{
  position:fixed;
  inset:0;
  background:rgba(0,0,0,0.45);
  display:flex;
  align-items:center;
  justify-content:center;
  z-index:1100;
}

/* centered card ~ half viewport */
.request-card{
  width:min(50vw,720px);
  height:min(50vh,520px);
  aspect-ratio:1 / 1;
  background:#fff;
  border-radius:16px;
  padding:22px;
  display:flex;
  flex-direction:column;
  gap:12px;
  box-shadow:0 24px 80px rgba(0,0,0,0.25);
  position:relative;
}

/* header row */
.request-top{display:flex;align-items:center;justify-content:space-between;}
.request-top h3{margin:0;font-size:18px;color:#4b2f00;}
.request-top .target-name{font-weight:700;color:#b8860b;}
.close-x{background:transparent;border:none;font-size:18px;cursor:pointer;color:#666;}

/* controls row */
.request-controls{display:flex;gap:12px;}
.control-left, .control-right{flex:1;display:flex;flex-direction:column;gap:8px;}
.control-left select, .control-right input[type="number"]{
  padding:8px;border-radius:8px;border:1px solid #ddd;
}

/* tokens display */
.tokens-row{display:flex;gap:10px;align-items:center;}
.tokens-available{background:#fff6e6;border:1px solid #e4c080;padding:8px 12px;border-radius:8px;font-weight:700;color:#7a4f00;}

/* items grid */
.request-items-area{flex:1;display:flex;flex-direction:column;gap:8px;overflow:auto;padding-right:8px;}
.request-items-grid{display:flex;flex-direction:column;gap:8px;}
.request-item-row{display:flex;align-items:center;gap:10px;padding:8px;border-radius:8px;border:1px solid rgba(0,0,0,0.04);background:#fff;}
.request-item-checkbox input{width:18px;height:18px;}
.request-item-thumb{width:72px;height:72px;border-radius:8px;overflow:hidden;background:#fafafa;border:none;display:flex;align-items:center;justify-content:center;}
.request-item-thumb img{width:100%;height:100%;object-fit:cover;}
.thumb-fallback{font-weight:700;color:#7a4f00;}
.request-item-meta{display:flex;flex-direction:column;}
.ri-name{font-weight:700;color:#111;}
.ri-cat{font-size:13px;color:#666;}

/* error */
.request-error{color:#b30f0f;padding:8px;background:#fff2f2;border-radius:8px;border:1px solid #f5c0c0;}

/* footer actions */
.request-actions{display:flex;justify-content:flex-end;gap:10px;}
.btn-cancel{background:#eee;border:none;padding:8px 12px;border-radius:8px;cursor:pointer;}
.btn-confirm{background:#34c759;color:#fff;border:none;padding:10px 18px;border-radius:14px;font-weight:700;cursor:pointer;}

/* responsive */
@media (max-width:900px){
  .request-card{width:90vw;height:70vh;padding:14px;}
  .request-controls{flex-direction:column;}
}
